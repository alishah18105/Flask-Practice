{% extends 'base.html' %}
<!-- Your navbar -->
{% block title %}
Academic Record
{% endblock title %}
{% block body %}


<div class="container my-3">
    <h2>Add New Academic Record</h2>
    <form action='/student_info' method="POST">
        <div class="row mb-3">

            <div class="col">
                <label for="seat_number" class="form-label">Seat Number</label>
                <input type="text" class="form-control" id="seat_number" name="seat_number" required>
                <div id="nameHelp" class="form-text">Eg. (B22110106001)</div>
            </div>


            <div class="col">
                <label for="course_no" class="form-label">Course Number</label>
                <input type="text" class="form-control" id="course_no" name="course_no" required>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label for="semester" class="form-label">Semester</label>
                <select class="form-select" id="semester" name="semester" required>
                    <option value="" selected disabled>Select Semester</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>

                </select>
            </div>
            <div class="col-md-3">
                <label for="marks" class="form-label">Otained Marks</label>
                <input type="text" class="form-control" id="marks" name="marks" required>

            </div>
        </div>
        <div class="col-md-3 ms-auto d-flex align-items-end justify-content-end">
            <button class="btn btn-primary" name="add_record" type="submit">Submit</button>
        </div>
    </form>


</div>
<div class="container my-4">
    <h2>Student Record</h2>
    <div class="my-3">
        <form action="/student_info" method="POST">
            <div class="row g-3 align-items-end">
                <!-- Seat Number -->
                <div class="col-md-4">
                    <label for="seat_number" class="form-label">Seat Number</label>
                    <input type="text" class="form-control" id="seat_number" name="search_seat_number" required>
                </div>

                <!-- Semester -->
                <div class="col-md-4">
                    <label for="semester" class="form-label">Semester</label>
                    <select class="form-select" id="semester" name="search_semester" required>
                        <option value="" selected disabled>Select Semester</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>

                    </select>
                </div>

                <!-- Search Button -->
                <div class="col-md-4 d-flex align-items-end">
                    <button type="submit" name="search_record" class="btn btn-primary">Search</button>
                </div>
            </div>
        </form>
    </div>
    <hr>
    <tbody>
        {% if student_info|length == 0 %}
        <div class="alert alert-secondary my-3" role="alert">
            No Student Record found..
        </div>

        {% else %}
        <div class="card p-3 mb-3">
            
            <div class="row">
                <div class="col-md-6"><strong>Name:</strong> {{ student_info[0].name }}</div>
                <div class="col-md-6"><strong>Father Name:</strong> {{ student_info[0].father_name }}</div>
            </div>
            <div class="row mb-2">
                <div class="col-md-6"><strong>Seat Number:</strong> {{ student_info[0].seat_number }}</div>
                <div class="col-md-6"><strong>Semester:</strong> {{ student_info[0].semester }}</div>
            </div>
        </div>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Sno.</th>
                    <th scope="col">Course No</th>
                    <th scope="col">Credit Hours</th>
                    <th scope="col">Marks</th>
                    <th scope="col">Grade</th>
                    <th scope="col">G.P</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>

            {% for info in student_info %}
            <tr>
                <th scope="row">{{loop.index}}</th>
                <td>{{info.course_no}}</td>
                <td>{{info.credit_hours}}</td>
                <td>{{info.marks}}</td>
                <td>{{info.grade}}</td>
                <td>{{info.gp}}</td>


                <td>
                    <a href="#" type="button" class="btn btn-outline-primary btn-sm mx-1">Edit</a>
                    <a href="#" type="button" class="btn btn-outline-danger btn-sm mx-1">Delete</a>
                </td>

            </tr>
            {% endfor %}
            


            </tr>
    </tbody>
    </table>
    <div class="card p-3 mb-3">
            
            <div class="row">
                <div class="col-md-6"><strong>Credit Hours:</strong> 18</div>
                <div class="col-md-6"><strong>Obtained Marks: </strong>{{marks}}</div>
            </div>
            <div class="row mb-2">
                <div class="col-md-6"><strong>GPA: </strong>{{gpa}}</div>
                
            </div>
        </div>
        {% endif %}
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


{% endblock body %}